{"posts":[{"title":"16位x86汇编：int $0x10 显示中断","content":"int $0x10是BIOS显示功能的中断 功能号ah=0x03:读光标位置(用于设置参数寄存器为当前光标位置) 参数：bh = 页号 返回： ch:cl=扫描开始线:扫描结束线 dh:dl=行号(0x00 顶端):列号(0x00 最左边) 功能号ah=0x13:显示字符串 参数： ah:al=功能号:放置光标的方式及规定属性.0x01表示使用bl中的属性值,光标停在字符串结尾处 es:bp=此寄存器对指向要显示的字符串起始位置处 cx=显示的字符串字符数 bh:bl=显示页面号: 字符属性 dh:dl=行号:列号 字符属性: (0x00白色, 0x0a绿色, 0x0b水蓝, 0x0c红色, 0x0d紫色, 0x0e黄色) print_nl: # 打印换行 movw $0xe0d,%ax # CR int $0x10 movb $0xa,%al # LF int $0x10 ret print: movb $0x03,%ah xorb %bh,%bh int $0x10 # 读光标位置到各参数寄存器，这样后面就会接在光标后继续打印 movw $msg, %bp # 字符地址 movw $0x10,%cx # 字符数 movw $0x1301,%ax # 0x13显示字符功能号 0x01使用bl属性值，光标停在结尾处 movw $0xc,%bx # 0x00页面 0x0c属性(红色) int $0x10 ret ","link":"https://blog.sxhome.club/post/16-wei-x86-hui-bian-int-dollar0x10/"},{"title":"16位x86汇编：int $0x13 读磁盘中断","content":"int 0x13是BIOS读磁盘中断 参数： dh:dl=磁头号:驱动器号(硬盘则位7要置1) ch:cl=磁道(柱面号)的低8位:开始扇区(0-5)磁道号高2位(位6-7) 注意扇区号从1号开始 es:bx=读至的内存地址(如果出错则CF标志置位jnc指令可判断,ah中是出错码) ah:al=服务号 (0x02号服务为读磁盘扇区到内存):扇区数 ok_load_setup: xorw %dx, %dx # drive 0, head 0 (dx=磁头号:驱动器号) movw $0x02,%cx # sector 2, track 0 (cx=柱面号:开始扇区) movw #0x0200,%bx # (es:bx=内存地址=0x90200) movw %ax,#0x0200+len # 2号服务为读磁盘, int $0x13 # BIOS读磁盘中断 jnc ok_load_setup # jnc表示cf置位则跳转，cf置位则读磁盘失败，重读 ","link":"https://blog.sxhome.club/post/16-wei-hui-bian-int-0x13/"},{"title":"16位x86汇编：循环拷贝","content":"movw $0x7c0,%ax movw %ax,%ds movw $0x9000,%ax movw %ax,%es movw $256,%cx # 256字=512字节 sub %si,%si sub %di,%di rep movsw ljmp $0x9000,$offset 从[ds:si]拷贝%cx字（1字=2字节）到[es:di] ","link":"https://blog.sxhome.club/post/16-wei-hui-bian-xun-huan-kao-bei/"},{"title":"第一篇博客","content":"今天是我的生日，也是博客建站的第一天，愿以后和宝贝能够每天都在一起😊 ","link":"https://blog.sxhome.club/post/di-yi-pian-bo-ke/"}]}